(()=>{"use strict";document.getElementById("article-form").addEventListener("submit",(async e=>{e.preventDefault();const t=document.getElementById("url").value;if(!t||!(e=>!!new RegExp("^(https?:\\/\\/)?((([a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)\\.)+[a-z]{2,6}|localhost|\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|\\[?[a-f0-9]*:[a-f0-9:%.~#?&=]*\\]?)(\\:\\d+)?(\\/[-a-z0-9+&@#/%=~_|\\?\\.:]*)*$","i").test(e))(t))return void alert("Please enter a valid URL");try{const e=await fetch("/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})});if(!e.ok)throw new Error("Network response was not ok");(e=>{if("0"===e.status.code){let t;switch(e.score_tag){case"P":t="Positive";break;case"N":t="Negative";break;case"NEU":t="Neutral";break;case"NONE":t="No Sentiment";break;default:t="Unknown"}document.getElementById("results").innerHTML=`\n            <h2>Sentiment Analysis Results</h2>\n            <p>Polarity: ${t}</p>\n            <p>Subjectivity: ${"subjective"===e.subjectivity?"Subjective":"Objective"}</p>\n            <p>Text Snippet: ${e.sentence_list[0].text}</p>\n        `}else alert("Error: "+e.status.msg)})(await e.json())}catch(e){console.error("Error making API call:",e),alert("An error occurred while fetching the data. Please try again.")}}))})();